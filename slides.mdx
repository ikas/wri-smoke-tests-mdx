import { themes } from 'mdx-deck'
import { Box, Heading } from 'theme-ui'

import Layout from './layout'
import qaPic from './pictures/qa-pic.png';
import qaPicWithSmoke from './pictures/qa-pic-with-smoke.png';

export const theme = themes.future;

<Layout>
  <Header>
    <img
      src="https://www.vizzuality.com/wp-content/themes/vizzuality_2/images/logo-white.svg"
      alt="Vizzuality"
      style={{ height: '70px', width: '100px' }}
    />
  </Header>

  # Smoke Testing

  <Box>(Or how we did it for the WRI API)</Box>

  <img
    src="https://i.pinimg.com/originals/d5/3b/bf/d53bbfc6a4f65f6a37691fa4541a9fee.gif"
    alt="Smoke signs"
    style={{ height: '45vh', marginTop: '2rem' }}
  />
</Layout>

---

<Layout>

## What is smoke testing?

- a.k.a. ‚ÄúBuild Verification Testing‚Äù

- a non-exhaustive set of tests (== no need to cover ALL of the features)

- aims at ensuring that the most important functions work

The result of running smoke tests can be used to decide if a build is stable.

</Layout>

---

<Layout>

## Think of it like... smoke signs üí®

- Usually you don't see them running

- You get notified in case of failure

- So if you see smoke, it means that probably there's a :fire::fire::fire:

</Layout>

---

<Layout>

## Smoke testing in the QA world

<img src={qaPic} style={{ height: '60vh' }} />

</Layout>

---

<Layout>

## Smoke testing in the QA world

<img src={qaPicWithSmoke} style={{ height: '60vh' }} />

</Layout>

---

<Layout>

## Different providers

TODO

</Layout>

---

<Layout>

## How it works in AWS Synthetics

TODO

</Layout>

---

<Layout>

## Takeaway

<Box alignItems="left" paddingTop="16px">
  <Box paddingRight="16px" paddingBottom="16px">
    <b>Monitoring and availability</b>
    <br />
    <span>Periorically run smoke tests to ensure the availability of systems</span>
  </Box>

  <Box paddingRight="16px" paddingBottom="16px">
    <b>Validating structural changes</b>
    <br />
    <span>Having smoke tests helps ensuring everything is working as expected after a major infrastructural change (e.g. the migration of WRI API to AWS)</span>
  </Box>

  <Box paddingRight="16px" paddingBottom="16px">
    <b>Cross-reference bugs</b>
    <br />
    <span>Using retained data from smoke test runs you can cross-reference reported bugs and see if they might have been caused by a system failure</span>
  </Box>
</Box>

Smoke tests can help you :v:

</Layout>

---

<Layout>

## Thank you :bow:

</Layout>
